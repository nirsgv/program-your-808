<template>
  <div class="speed-knob" @click="$emit('click')">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
      <g
        id="knob"
        data-name="Layer 1"
        :style="{ transform: `rotate(${degree}deg)` }"
      >
        <path
          id="inner_1"
          data-name="inner 1"
          d="m102.5,26.8v4.59h-5v-4.59c-39.3,1.32-70.77,33.58-70.77,73.2s32.8,73.27,73.27,73.27,73.27-32.8,73.27-73.27S141.8,28.12,102.5,26.8Z"
        />
        <circle
          id="inner_2"
          data-name="inner 2"
          cx="100"
          cy="100"
          r="56.81"
          style="fill: none; stroke: #fff; stroke-miterlimit: 10"
        />
        <circle
          id="inner_3"
          data-name="inner 3"
          cx="100"
          cy="100"
          r="51.83"
          style="fill: none; stroke: #fff; stroke-miterlimit: 10"
        />
        <g id="pointer">
          <path
            id="fill"
            d="m100,61.61c1.38,0,2.5-1.35,2.5-2.99v-10.38c-.83-.04-1.66-.06-2.5-.06s-1.67.02-2.5.06v10.38c0,1.65,1.12,2.99,2.5,2.99Z"
            style="fill: #fff"
          />
          <path
            id="outline"
            d="m100,48.17c-.84,0-1.67.02-2.5.06v21.38c0,1.65,1.12,2.99,2.5,2.99s2.5-1.35,2.5-2.99v-21.38c-.83-.04-1.66-.06-2.5-.06Z"
            style="fill: none; stroke: #fff; stroke-miterlimit: 10"
          />
        </g>
      </g>
      <g id="circle_pattern" data-name="circle pattern">
        <g id="pattern_brush_path" data-name="pattern brush path">
          <g>
            <path
              d="m134.3,169.93c.5,1.01.06,2.22-.99,2.71-1.05.49-2.25.05-2.69-.99-.44-1.04,0-2.25.99-2.71.99-.46,2.19-.02,2.69.99Z"
            />
            <path
              d="m143.44,164.64c.63.93.37,2.21-.59,2.85-.94.67-2.26.29-2.82-.66-.58-.98-.25-2.14.64-2.78.9-.61,2.15-.35,2.78.58Z"
            />
            <path
              d="m151.79,158.18c.74.82.7,2.18-.21,2.91-.91.72-2.21.59-2.91-.29-.7-.88-.57-2.14.28-2.82.85-.68,2.07-.64,2.83.21Z"
            />
            <path
              d="m159.22,150.67c.87.74.92,2.01.13,2.86-.79.85-2.08.9-2.89.12-.81-.78-.87-2.06-.13-2.86.74-.8,2.04-.85,2.89-.13Z"
            />
            <path
              d="m165.51,142.18c.95.61,1.19,1.87.54,2.83-.65.96-1.91,1.2-2.82.53s-1.15-1.93-.54-2.83c.61-.9,1.87-1.14,2.82-.53Z"
            />
            <path
              d="m170.6,132.94c1.02.47,1.45,1.7.96,2.75-.47,1.06-1.76,1.43-2.75.9-.99-.53-1.33-1.72-.9-2.72.46-.98,1.67-1.4,2.69-.93Z"
            />
            <path
              d="m174.43,123.1c1.06.32,1.72,1.51,1.33,2.6-.41,1.08-1.59,1.64-2.65,1.25-1.05-.39-1.6-1.54-1.21-2.56.37-1.02,1.44-1.62,2.53-1.29Z"
            />
            <path
              d="m176.9,112.83c1.11.18,1.82,1.24,1.59,2.38-.23,1.13-1.31,1.85-2.41,1.61-1.1-.25-1.81-1.31-1.59-2.38.22-1.07,1.3-1.78,2.41-1.61Z"
            />
            <path
              d="m177.87,102.31c1.12.03,2,.99,1.95,2.14-.05,1.16-.99,2.01-2.12,1.92-1.12-.1-1.99-1.06-1.95-2.14.04-1.09.99-1.95,2.12-1.92Z"
            />
            <path
              d="m177.53,91.76c1.13-.12,2.11.71,2.2,1.87.09,1.15-.75,2.13-1.88,2.19-1.12.05-2.1-.78-2.18-1.87-.08-1.09.76-2.06,1.86-2.19Z"
            />
            <path
              d="m175.71,81.36c1.09-.27,2.19.42,2.45,1.55.28,1.12-.49,2.22-1.59,2.42-1.12.21-2.13-.5-2.39-1.56-.24-1.06.44-2.14,1.53-2.41Z"
            />
            <path
              d="m172.5,71.3c1.04-.42,2.24.11,2.66,1.19.37,1.1-.19,2.27-1.26,2.63-1.07.35-2.22-.2-2.56-1.23-.4-1.01.12-2.17,1.17-2.59Z"
            />
            <path
              d="m167.95,61.76c.96-.55,2.27-.21,2.78.83.53,1.03.14,2.27-.87,2.76s-2.23.11-2.73-.86c-.48-.98-.17-2.17.82-2.73Z"
            />
            <path
              d="m162.16,52.93c.9-.69,2.19-.5,2.85.45.67.94.46,2.22-.48,2.84-.93.63-2.2.42-2.83-.47-.62-.89-.43-2.15.46-2.83Z"
            />
            <path
              d="m155.24,44.96c.79-.8,2.08-.77,2.88.07.81.83.76,2.13-.09,2.89-.83.74-2.11.69-2.87-.09-.75-.79-.72-2.07.08-2.87Z"
            />
            <path
              d="m147.29,38c.68-.9,1.97-1.04,2.88-.33.92.7,1.01,2.04.29,2.88-.74.86-1.97.94-2.84.29-.86-.67-1-1.94-.32-2.84Z"
            />
            <path
              d="m138.48,32.18c.55-.98,1.81-1.31,2.81-.73.99.61,1.27,1.89.66,2.83-.61.95-1.84,1.23-2.77.66-.94-.54-1.26-1.78-.71-2.76Z"
            />
            <path
              d="m128.96,27.59c.41-1.04,1.63-1.57,2.69-1.1,1.05.48,1.52,1.69,1.05,2.71-.48,1.02-1.67,1.48-2.66,1.03-.99-.45-1.49-1.58-1.07-2.64Z"
            />
            <path
              d="m118.92,24.34c.27-1.1,1.4-1.77,2.51-1.44,1.11.32,1.75,1.44,1.41,2.52-.33,1.07-1.45,1.7-2.5,1.41-1.04-.31-1.68-1.41-1.42-2.49Z"
            />
            <path
              d="m108.52,22.48c.12-1.12,1.14-1.91,2.29-1.76,1.15.13,1.92,1.19,1.74,2.31-.18,1.1-1.2,1.85-2.28,1.73-1.08-.14-1.86-1.16-1.74-2.27Z"
            />
            <path
              d="m97.97,22.06c-.03-1.12.88-2.06,2.03-2.09,1.16.03,2.07.96,2.03,2.09-.03,1.12-.94,2.01-2.03,1.99-1.09.03-2-.86-2.03-1.99Z"
            />
            <path
              d="m87.45,23.03c-.19-1.12.59-2.18,1.74-2.31,1.15-.15,2.17.64,2.29,1.76s-.66,2.14-1.74,2.27c-1.08.12-2.1-.63-2.28-1.73Z"
            />
            <path
              d="m77.16,25.42c-.33-1.07.3-2.2,1.41-2.52,1.11-.33,2.24.33,2.51,1.44.26,1.08-.38,2.18-1.42,2.49-1.05.3-2.17-.33-2.5-1.41Z"
            />
            <path
              d="m67.3,29.2c-.48-1.02,0-2.23,1.05-2.71,1.06-.47,2.28.06,2.69,1.1.42,1.06-.08,2.19-1.07,2.64-.99.45-2.18-.01-2.66-1.03Z"
            />
            <path
              d="m58.04,34.28c-.61-.94-.32-2.23.66-2.83,1-.58,2.26-.25,2.81.73.55.98.23,2.21-.71,2.76-.93.57-2.16.29-2.77-.66Z"
            />
            <path
              d="m49.55,40.56c-.72-.84-.64-2.18.29-2.88.91-.72,2.2-.57,2.88.33.68.9.54,2.17-.32,2.84-.87.66-2.1.58-2.84-.29Z"
            />
            <path
              d="m41.98,47.92c-.85-.76-.9-2.06-.09-2.89.8-.84,2.09-.87,2.88-.07s.83,2.08.08,2.87c-.76.78-2.03.83-2.87.09Z"
            />
            <path
              d="m35.46,56.23c-.93-.63-1.15-1.9-.48-2.84.66-.95,1.95-1.15,2.85-.45.88.68,1.08,1.94.46,2.83-.63.89-1.9,1.1-2.83.47Z"
            />
            <path
              d="m30.14,65.35c-1.01-.5-1.4-1.73-.87-2.76.51-1.04,1.81-1.38,2.78-.83.99.56,1.3,1.76.82,2.73-.5.97-1.72,1.35-2.73.86Z"
            />
            <path
              d="m26.11,75.11c-1.07-.35-1.63-1.53-1.26-2.63.42-1.08,1.61-1.61,2.66-1.19,1.04.42,1.57,1.58,1.17,2.59-.35,1.03-1.5,1.58-2.56,1.23Z"
            />
            <path
              d="m23.43,85.33c-1.1-.2-1.87-1.3-1.59-2.42.26-1.13,1.36-1.82,2.45-1.55,1.09.27,1.78,1.35,1.53,2.41-.27,1.06-1.28,1.77-2.39,1.56Z"
            />
            <path
              d="m22.15,95.81c-1.12-.05-1.96-1.03-1.88-2.19.09-1.15,1.06-1.99,2.2-1.87,1.1.12,1.95,1.1,1.86,2.19-.08,1.09-1.06,1.92-2.18,1.87Z"
            />
            <path
              d="m22.29,106.38c-1.12.1-2.07-.76-2.12-1.92-.05-1.16.83-2.12,1.95-2.14s2.07.83,2.12,1.92c.04,1.09-.83,2.05-1.95,2.14Z"
            />
            <path
              d="m23.91,116.81c-1.1.25-2.18-.47-2.41-1.61-.23-1.13.48-2.2,1.59-2.38,1.11-.18,2.19.54,2.41,1.61.22,1.07-.49,2.13-1.59,2.38Z"
            />
            <path
              d="m26.89,126.94c-1.05.39-2.24-.16-2.65-1.25-.39-1.09.27-2.27,1.33-2.6,1.09-.33,2.16.26,2.53,1.29.39,1.02-.16,2.16-1.21,2.56Z"
            />
            <path
              d="m31.19,136.59c-.99.53-2.28.16-2.75-.9-.49-1.05-.07-2.28.96-2.75s2.22-.06,2.69.93c.44,1,.1,2.18-.9,2.72Z"
            />
            <path
              d="m36.77,145.55c-.91.66-2.17.42-2.82-.53-.65-.96-.41-2.23.54-2.83.95-.61,2.21-.37,2.82.53.61.9.37,2.17-.54,2.83Z"
            />
            <path
              d="m43.54,153.65c-.81.78-2.11.72-2.89-.12-.78-.85-.73-2.12.13-2.86.85-.72,2.15-.67,2.89.13.74.8.68,2.08-.13,2.86Z"
            />
            <path
              d="m51.32,160.79c-.7.88-2,1.01-2.91.29-.9-.72-.94-2.08-.21-2.91.76-.85,1.98-.89,2.83-.21.85.67.98,1.94.28,2.82Z"
            />
            <path
              d="m59.98,166.84c-.56.95-1.88,1.33-2.82.66-.96-.65-1.23-1.92-.59-2.85.63-.93,1.88-1.19,2.78-.58.88.64,1.22,1.8.64,2.78Z"
            />
            <path
              d="m69.38,171.66c-.44,1.04-1.64,1.48-2.69.99-1.05-.49-1.49-1.71-.99-2.71.5-1.01,1.71-1.45,2.69-.99.99.46,1.43,1.68.99,2.71Z"
            />
          </g>
        </g>
      </g>
      <g id="Outer_circle" data-name="Outer circle">
        <path
          d="m100,.5C45.05.5.5,45.05.5,100s44.55,99.5,99.5,99.5,99.5-44.55,99.5-99.5S154.95.5,100,.5Zm0,183.16c-46.21,0-83.66-37.46-83.66-83.66S53.79,16.34,100,16.34s83.66,37.46,83.66,83.66-37.46,83.66-83.66,83.66Z"
          style="fill: #fff; stroke: #231f20; stroke-miterlimit: 10"
        />
        <path
          d="m25.98,156.46v-1.14c.53-.02.89-.06,1.1-.11.33-.07.61-.22.82-.45.14-.15.25-.36.33-.61.04-.15.06-.27.06-.34h1.39v8.5h-1.71v-5.86h-2Z"
        />
        <path
          d="m69.3,182.82c.44.76.65,1.84.65,3.25s-.22,2.48-.65,3.24-1.19,1.14-2.28,1.14-1.84-.38-2.28-1.14-.65-1.84-.65-3.24.22-2.48.65-3.25,1.19-1.14,2.28-1.14,1.84.38,2.28,1.14Zm-3.26,5.49c.16.52.49.78.98.78s.82-.26.98-.78.23-1.26.23-2.24-.08-1.78-.23-2.27-.48-.74-.98-.74-.82.25-.98.74-.24,1.25-.24,2.27.08,1.72.24,2.24Z"
        />
        <g>
          <path
            d="m126.96,184.37v-1.14c.53-.02.89-.06,1.1-.11.33-.07.61-.22.82-.45.14-.15.25-.36.33-.61.04-.15.06-.27.06-.34h1.39v8.5h-1.71v-5.86h-2Z"
          />
          <path
            d="m138.38,182.82c.44.76.65,1.84.65,3.25s-.22,2.48-.65,3.24-1.19,1.14-2.28,1.14-1.84-.38-2.28-1.14-.65-1.84-.65-3.24.22-2.48.65-3.25,1.19-1.14,2.28-1.14,1.84.38,2.28,1.14Zm-3.26,5.49c.16.52.49.78.98.78s.82-.26.98-.78.23-1.26.23-2.24-.08-1.78-.23-2.27-.48-.74-.98-.74-.82.25-.98.74-.24,1.25-.24,2.27.08,1.72.24,2.24Z"
          />
        </g>
        <path
          d="m6.75,115.65c.24-.57.8-1.17,1.69-1.8.77-.55,1.27-.95,1.49-1.18.35-.37.52-.78.52-1.22,0-.36-.1-.66-.3-.9s-.48-.36-.86-.36c-.51,0-.85.19-1.04.57-.11.22-.17.57-.19,1.04h-1.62c.03-.72.16-1.31.39-1.75.45-.85,1.24-1.27,2.38-1.27.9,0,1.61.25,2.15.75s.8,1.16.8,1.98c0,.63-.19,1.19-.56,1.68-.25.32-.65.69-1.22,1.08l-.67.47c-.42.3-.71.51-.86.64s-.28.29-.39.46h3.71v1.47h-5.82c.02-.61.15-1.17.39-1.67Z"
        />
        <path
          d="m15.4,62.73c0,.34.05.62.16.84.2.41.57.62,1.1.62.33,0,.61-.11.86-.34.24-.22.37-.55.37-.97,0-.56-.23-.93-.68-1.12-.26-.11-.66-.16-1.21-.16v-1.2c.54,0,.92-.06,1.13-.16.37-.16.55-.5.55-1,0-.32-.09-.59-.28-.79-.19-.2-.46-.3-.8-.3-.39,0-.68.12-.87.38s-.27.58-.27,1h-1.56c.02-.42.09-.82.22-1.2.14-.33.35-.64.64-.92.22-.2.48-.35.78-.46.3-.11.67-.16,1.11-.16.81,0,1.47.21,1.96.63s.75.98.75,1.69c0,.5-.15.92-.45,1.27-.19.21-.38.36-.59.44.15,0,.37.13.66.39.43.39.64.93.64,1.62,0,.72-.25,1.35-.75,1.9-.5.54-1.23.82-2.21.82-1.2,0-2.04-.39-2.51-1.18-.25-.42-.38-.96-.41-1.64h1.64Z"
        />
        <path
          d="m186.73,58.26c-.25.25-.6.68-1.04,1.32s-.82,1.28-1.12,1.95c-.24.53-.45,1.17-.65,1.93-.19.76-.29,1.39-.29,1.88h-1.73c.05-1.52.55-3.11,1.5-4.75.61-1.02,1.13-1.73,1.54-2.13h-4.23l.02-1.5h6v1.31Z"
        />
        <path
          d="m188.45,112.57c.22-.39.53-.68.95-.87-.41-.27-.68-.57-.8-.89-.12-.32-.19-.62-.19-.89,0-.62.23-1.14.7-1.58s1.12-.65,1.97-.65,1.51.22,1.97.65.7.96.7,1.58c0,.28-.06.58-.18.89s-.39.59-.8.83c.42.23.74.54.95.93s.32.82.32,1.29c0,.71-.26,1.32-.79,1.83-.53.5-1.27.75-2.22.75s-1.67-.25-2.16-.75c-.49-.5-.73-1.11-.73-1.83,0-.48.11-.91.32-1.29Zm1.74,2.16c.22.23.52.35.9.35s.68-.12.9-.35.33-.55.33-.97-.11-.76-.33-.99-.52-.34-.89-.34-.67.11-.89.34-.33.55-.33.99.11.74.33.97Zm.11-3.87c.19.2.45.29.79.29s.6-.1.79-.29c.19-.2.28-.45.28-.76,0-.34-.09-.6-.28-.79-.19-.19-.45-.28-.79-.28s-.6.09-.79.28-.29.45-.29.79c0,.31.09.56.29.76Z"
        />
        <path
          d="m169.88,154.6c.53-.56,1.21-.85,2.05-.85,1.29,0,2.18.57,2.66,1.72.27.65.41,1.5.41,2.56s-.13,1.88-.39,2.57c-.5,1.31-1.42,1.96-2.75,1.96-.64,0-1.21-.19-1.72-.57s-.8-.93-.87-1.65h1.66c.04.25.14.45.32.61s.4.23.69.23c.55,0,.94-.3,1.16-.91.12-.34.2-.83.23-1.47-.15.19-.31.34-.49.44-.31.19-.7.28-1.15.28-.68,0-1.28-.23-1.8-.7s-.79-1.14-.79-2.02.26-1.65.79-2.21Zm2.81,3.37c.38-.24.57-.66.57-1.26,0-.48-.11-.86-.34-1.14s-.53-.42-.92-.42c-.29,0-.53.08-.73.24-.32.25-.48.67-.48,1.27,0,.5.1.88.31,1.13s.52.38.95.38c.23,0,.45-.07.65-.2Z"
        />
        <path
          d="m48.87,26.97h-.96v1.83h-1.63v-1.83h-3.36v-1.46l3.12-5.16h1.88v5.31h.96v1.31Zm-2.6-1.31v-3.66l-2.12,3.66h2.12Z"
        />
        <path
          d="m99.12,10.12c.07.36.19.64.38.84s.46.3.82.3c.41,0,.73-.15.94-.44s.32-.66.32-1.1-.1-.8-.3-1.1c-.2-.3-.52-.45-.95-.45-.2,0-.38.03-.53.08-.26.09-.46.27-.59.52l-1.5-.07.6-4.69h4.67v1.42h-3.47l-.3,1.86c.26-.17.46-.28.6-.33.24-.09.54-.13.88-.13.7,0,1.31.24,1.84.71.52.47.78,1.16.78,2.06,0,.79-.25,1.49-.75,2.1-.5.62-1.26.93-2.26.93-.81,0-1.47-.22-1.99-.65s-.81-1.05-.87-1.85h1.66Z"
        />
        <path
          d="m152.84,22.44c0-.14-.05-.29-.16-.45-.18-.27-.45-.4-.81-.4-.54,0-.93.3-1.16.91-.12.34-.21.83-.26,1.49.21-.25.45-.43.72-.54s.59-.17.94-.17c.75,0,1.37.26,1.85.77s.72,1.17.72,1.96-.24,1.49-.71,2.1-1.21.91-2.2.91c-1.07,0-1.86-.45-2.37-1.34-.39-.7-.59-1.6-.59-2.71,0-.65.03-1.18.08-1.58.1-.72.29-1.32.57-1.8.24-.41.56-.74.95-.99s.86-.38,1.41-.38c.79,0,1.42.2,1.89.61s.73.94.79,1.61h-1.66Zm-1.98,4.79c.25.29.56.43.94.43s.66-.14.88-.42.32-.64.32-1.09c0-.5-.12-.88-.36-1.14s-.54-.4-.89-.4c-.29,0-.54.09-.76.26-.33.25-.49.66-.49,1.23,0,.46.12.83.37,1.12Z"
        />
      </g>
    </svg>
    <input
      type="range"
      id="speed"
      name="cowbell"
      :min="min"
      :max="max"
      :value="value"
      :step="step"
      @input="(e) => $emit('change-speed', e)"
    />
  </div>
</template>

<script>
export default {
  name: "SpeedKnob",
  props: {
    value: {
      type: Number,
      default: 50,
    },
    min: Number,
    max: Number,
    step: Number,
  },
  computed: {
    range() {
      return this.max - this.min;
    },
    degree() {
      return (this.value - this.range) * (155 / this.range) * 2;
    },
  }
};
</script>

<style scoped lang="scss">
#knob {
  transform-origin: center;
}
#speed {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
}

.speed-knob {
  max-width: 12rem;
  margin: 0 auto;
}
</style>
